{"version":3,"file":"index.modern.js","sources":["../src/Components/Timer.tsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react'\nimport { CommonProps } from '../Common/CommonProps'\nimport timerstyles from '../styles/Timer.module.scss'\nimport commonStyles from '../styles.module.scss'\n\ninterface Listener {\n  seconds: number\n  callback: (...args: any) => void\n}\n\ninterface TimerProps extends CommonProps {\n  seconds: number\n  onTimeEnd?: () => void\n  listenerList?: Array<Listener>\n  key?: any\n  classList?: Array<string>\n}\n\nexport const Timer = (props: TimerProps) => {\n  const [remaingSec, setRemainSeconds] = useState(props.seconds)\n  const [listener, setListener] = useState({})\n\n  const getTimerFormat = (seconds: number) => {\n    const remaingSec = seconds % 60\n    const minutes = Math.floor(seconds / 60)\n    const hours = Math.floor(minutes / 60)\n    return `${hours < 10 ? '0' + hours : hours} : ${\n      minutes < 10 ? '0' + minutes : minutes\n    } : ${remaingSec < 10 ? '0' + remaingSec : remaingSec}`\n  }\n\n  useEffect(() => {\n    if (remaingSec <= 0) {\n      props.onTimeEnd && props.onTimeEnd()\n      return\n    }\n    if (listener[remaingSec]) listener[remaingSec]()\n    setTimeout(() => setRemainSeconds((leftSeconds) => leftSeconds - 1), 1000)\n  }, [remaingSec])\n\n  useEffect(() => {\n    const listener = {}\n    props.listenerList &&\n      props.listenerList.forEach((listner: Listener) => {\n        listener[listner.seconds] = listner.callback\n      })\n    setListener(listener)\n  }, [props.listenerList])\n\n  return (\n    <div\n      style={props.styles}\n      className={`${timerstyles.timerWrapper} ${\n        commonStyles.center\n      } ${props.classList?.join(' ')}`}\n      key={props.key}\n    >\n      <span className={timerstyles.displayBlock}>\n        {getTimerFormat(remaingSec)}\n      </span>\n    </div>\n  )\n}\n"],"names":["Timer","props","remaingSec","setRemainSeconds","useState","seconds","listener","setListener","getTimerFormat","minutes","Math","floor","hours","useEffect","onTimeEnd","setTimeout","leftSeconds","listenerList","forEach","listner","callback","React","style","styles","className","timerstyles","timerWrapper","commonStyles","center","classList","join","key","displayBlock"],"mappings":";;;;;;MAmBaA,KAAK,GAAIC,KAAD;;;EACnB,MAAM,CAACC,UAAD,EAAaC,gBAAb,IAAiCC,QAAQ,CAACH,KAAK,CAACI,OAAP,CAA/C;EACA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BH,QAAQ,CAAC,EAAD,CAAxC;;EAEA,MAAMI,cAAc,GAAIH,OAAD;IACrB,MAAMH,UAAU,GAAGG,OAAO,GAAG,EAA7B;IACA,MAAMI,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWN,OAAO,GAAG,EAArB,CAAhB;IACA,MAAMO,KAAK,GAAGF,IAAI,CAACC,KAAL,CAAWF,OAAO,GAAG,EAArB,CAAd;IACA,UAAUG,KAAK,GAAG,EAAR,GAAa,MAAMA,KAAnB,GAA2BA,WACnCH,OAAO,GAAG,EAAV,GAAe,MAAMA,OAArB,GAA+BA,aAC3BP,UAAU,GAAG,EAAb,GAAkB,MAAMA,UAAxB,GAAqCA,YAF3C;GAJF;;EASAW,SAAS,CAAC;IACR,IAAIX,UAAU,IAAI,CAAlB,EAAqB;MACnBD,KAAK,CAACa,SAAN,IAAmBb,KAAK,CAACa,SAAN,EAAnB;MACA;;;IAEF,IAAIR,QAAQ,CAACJ,UAAD,CAAZ,EAA0BI,QAAQ,CAACJ,UAAD,CAAR;IAC1Ba,UAAU,CAAC,MAAMZ,gBAAgB,CAAEa,WAAD,IAAiBA,WAAW,GAAG,CAAhC,CAAvB,EAA2D,IAA3D,CAAV;GANO,EAON,CAACd,UAAD,CAPM,CAAT;EASAW,SAAS,CAAC;IACR,MAAMP,QAAQ,GAAG,EAAjB;IACAL,KAAK,CAACgB,YAAN,IACEhB,KAAK,CAACgB,YAAN,CAAmBC,OAAnB,CAA4BC,OAAD;MACzBb,QAAQ,CAACa,OAAO,CAACd,OAAT,CAAR,GAA4Bc,OAAO,CAACC,QAApC;KADF,CADF;IAIAb,WAAW,CAACD,QAAD,CAAX;GANO,EAON,CAACL,KAAK,CAACgB,YAAP,CAPM,CAAT;EASA,OACEI,mBAAA,MAAA;IACEC,KAAK,EAAErB,KAAK,CAACsB;IACbC,SAAS,KAAKC,WAAW,CAACC,gBACxBC,YAAY,CAACC,UADJ,oBAEP3B,KAAK,CAAC4B,SAFC,qDAEP,iBAAiBC,IAAjB,CAAsB,GAAtB;IACJC,GAAG,EAAE9B,KAAK,CAAC8B;GALb,EAOEV,mBAAA,OAAA;IAAMG,SAAS,EAAEC,WAAW,CAACO;GAA7B,EACGxB,cAAc,CAACN,UAAD,CADjB,CAPF,CADF;AAaD,CA5CM;;;;"}